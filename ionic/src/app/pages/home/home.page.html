<ion-header>
  <ion-toolbar>
    <ion-img src="/assets/logo.png" style="width: 4em;" slot="start" class="ion-margin-start"></ion-img>
    <ion-searchbar
      placeholder="Chercher une histoire" 
      [debounce]="250" 
      showCancelButton="never"
      searchIcon="search"
      (click)="search()"
      ></ion-searchbar>
  </ion-toolbar>
</ion-header>



<ion-content>
  <h1 class="ion-text-center" *ngIf="userBookList.length !== 0">Ma liste</h1>

  <ion-slides class="slides" [options]="slideOpts" *ngIf="userBookList.length !== 0">
    <ion-slide>
    </ion-slide>
    <ion-slide *ngFor="let bookId of userBookList">
      <app-card-book [bookId]="bookId"></app-card-book>
    </ion-slide>
    <ion-slide>
    </ion-slide>
  </ion-slides>

  <h1 class="ion-text-center ion-no-margin">Les plus vues</h1>

  <div *ngIf="!(mostVueList | async)" style="height: 360px; display: flex; align-content: center!important; align-items: center!important; justify-content: center;">
    <ion-spinner name="bubbles"></ion-spinner>
  </div>

  <ion-slides class="slides" [options]="slides.coverFlowOpts" class="ion-no-margin" *ngIf="mostVueList | async as mostVue">
    <ion-slide>
    </ion-slide>
    <ion-slide *ngFor="let book of mostVue">
      <app-card-book [bookId]="book.id"></app-card-book>
    </ion-slide>
    <ion-slide>
    </ion-slide>
  </ion-slides>
  
  <!-- <h1 class="ion-text-center ion-no-margin">Par cat√©gorie</h1>
  <ion-slides class="slides" [options]="{slidesPerView: 4}" class="ion-no-margin">
    <ion-slide *ngFor="let cat of firebase.category">
      <ion-col class="ion-text-center">
        <ion-fab-button style="display: inline-block" (click)="searchCategory(cat)">
          <ion-icon name="add" [src]="'../../../assets/icon/category/'+cat+'.svg'"></ion-icon>
        </ion-fab-button>
        <ion-text color="medium">
          <p class="ion-no-margin">{{cat}}</p>
        </ion-text>
      </ion-col>
    </ion-slide>
  </ion-slides> -->
</ion-content>
