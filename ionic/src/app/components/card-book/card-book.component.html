<div #ref [style.height.px]="height" [style.width.px]="width">
  <div *ngIf="!async; else asyncBook">
    <ion-card (click)="open(book)" button *ngIf="bookJSON as book">
      <img alt="cover" [src]="book.cover" style="width: 100%"/>
      <ion-card-header class="ion-no-padding" >
        <div class="center">
          <ion-text color="dark">
            <p>{{book.title}}</p>
          </ion-text>
        </div>
      </ion-card-header>
    </ion-card>
  </div>
  <ng-template #asyncBook>
    <ion-card (click)="open(book)" button  *ngIf="bookAsync | async as book; else load">
      <img alt="cover" [src]="book.cover" style="width: 100%;" #image/>
      <ion-card-header class="ion-no-padding" >
        <div class="center">
          <ion-text color="dark">
            <p>{{book.title}}</p>
          </ion-text>
        </div>
      </ion-card-header>
    </ion-card>
    
    <ng-template #load>
      <ion-card style="height: 360px;width: 180px;">
        <ion-skeleton-text animated style="width: 100%; height: 100%;" class="ion-no-margin"></ion-skeleton-text>
      </ion-card>
    </ng-template>
  </ng-template>
</div>


